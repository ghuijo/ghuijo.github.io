<!DOCTYPE html> <html lang="en"> <head> <meta http-equiv="Content-Type" content="text/html; charset=UTF-8"> <meta charset="utf-8"> <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no"> <meta http-equiv="X-UA-Compatible" content="IE=edge"> <title> LeRobot Pi0 Finetuning Tutorial | Geonhui Jo </title> <meta name="author" content="Geonhui Jo"> <meta name="description" content=""> <link rel="stylesheet" href="/assets/css/bootstrap.min.css?a4b3f509e79c54a512b890d73235ef04"> <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/mdbootstrap@4.20.0/css/mdb.min.css" integrity="sha256-jpjYvU3G3N6nrrBwXJoVEYI/0zw8htfFnhT9ljN3JJw=" crossorigin="anonymous"> <link defer rel="stylesheet" href="/assets/css/academicons.min.css?f0b7046b84e425c55f3463ac249818f5"> <link defer rel="stylesheet" href="/assets/css/scholar-icons.css?62b2ac103a88034e6882a5be5f3e2772"> <link defer rel="stylesheet" type="text/css" href="https://fonts.googleapis.com/css?family=Roboto:300,400,500,700|Roboto+Slab:100,300,400,500,700|Material+Icons&amp;display=swap"> <link defer rel="stylesheet" href="/assets/css/jekyll-pygments-themes-github.css?591dab5a4e56573bf4ef7fd332894c99" media="" id="highlight_theme_light"> <link rel="shortcut icon" href="data:image/svg+xml,&lt;svg%20xmlns=%22http://www.w3.org/2000/svg%22%20viewBox=%220%200%20100%20100%22&gt;&lt;text%20y=%22.9em%22%20font-size=%2290%22&gt;%F0%9F%98%83&lt;/text&gt;&lt;/svg&gt;"> <link rel="stylesheet" href="/assets/css/main.css?d41d8cd98f00b204e9800998ecf8427e"> <link rel="canonical" href="https://ghuijo.github.io/blog/2025/LeRobot-PI0-Finetuning-Tutorial/"> <script src="/assets/js/theme.js?a81d82887dd692e91686b43de4542f18"></script> <link defer rel="stylesheet" href="/assets/css/jekyll-pygments-themes-native.css?5847e5ed4a4568527aa6cfab446049ca" media="none" id="highlight_theme_dark"> <script>
    initTheme();
  </script> </head> <body class="fixed-top-nav "> <header> <nav id="navbar" class="navbar navbar-light navbar-expand-sm fixed-top" role="navigation"> <div class="container"> <a class="navbar-brand title font-weight-lighter" href="/"> <span class="font-weight-bold">Geonhui</span> Jo </a> <button class="navbar-toggler collapsed ml-auto" type="button" data-toggle="collapse" data-target="#navbarNav" aria-controls="navbarNav" aria-expanded="false" aria-label="Toggle navigation"> <span class="sr-only">Toggle navigation</span> <span class="icon-bar top-bar"></span> <span class="icon-bar middle-bar"></span> <span class="icon-bar bottom-bar"></span> </button> <div class="collapse navbar-collapse text-right" id="navbarNav"> <ul class="navbar-nav ml-auto flex-nowrap"> <li class="nav-item "> <a class="nav-link" href="/">About </a> </li> <li class="nav-item active"> <a class="nav-link" href="/blog/">Dump&amp;Log </a> </li> <li class="nav-item "> <a class="nav-link" href="/projects/">Research Projects </a> </li> <li class="nav-item "> <a class="nav-link" href="/assets/pdf/CV_Geonhui_JO_Oct_2025.pdf">CV </a> </li> <li class="toggle-container"> <button id="light-toggle" title="Change theme"> <i class="ti ti-sun-moon" id="light-toggle-system"></i> <i class="ti ti-moon-filled" id="light-toggle-dark"></i> <i class="ti ti-sun-filled" id="light-toggle-light"></i> </button> </li> </ul> </div> </div> </nav> <progress id="progress" value="0"> <div class="progress-container"> <span class="progress-bar"></span> </div> </progress> </header> <div class="container mt-5" role="main"> <div class="post"> <header class="post-header"> <h1 class="post-title">LeRobot Pi0 Finetuning Tutorial</h1> <p class="post-meta"> Created on August 29, 2025 </p> <p class="post-tags"> <a href="/blog/2025"> <i class="fa-solid fa-calendar fa-sm"></i> 2025 </a> ¬† ¬∑ ¬† <a href="/blog/tag/imitation-leaning"> <i class="fa-solid fa-hashtag fa-sm"></i> Imitation_leaning</a> ¬† <a href="/blog/tag/lerobot"> <i class="fa-solid fa-hashtag fa-sm"></i> LeRobot</a> ¬† <a href="/blog/tag/pi0"> <i class="fa-solid fa-hashtag fa-sm"></i> Pi0</a> ¬† ¬∑ ¬† <a href="/blog/category/robotics"> <i class="fa-solid fa-tag fa-sm"></i> robotics</a> </p> </header> <article class="post-content"> <div id="markdown-content"> <p>This is a blog post on how to finetune LeRobot Pi0 with SO-ARM101.</p> <h2 id="references">References</h2> <p><a href="https://huggingface.co/docs/lerobot/il_robots" rel="external nofollow noopener" target="_blank">LeRobot Imitation Learning Tutorial</a></p> <p><a href="https://huggingface.co/blog/pi0" rel="external nofollow noopener" target="_blank">LeRobot Pi0 and Pi0-fast Blog</a></p> <h2 id="experiment-environment">Experiment environment</h2> <ul> <li>Robot: SO-ARM101</li> <li>GPU: Tesla A100 SXM4 40GB</li> <li>OS: Ubuntu 20.04 LTS</li> <li>NVIDIA Driver: 570.169 (CUDA 12.8)</li> </ul> <h2 id="1-anaconda-environment-setup">1. Anaconda environment setup</h2> <ul> <li> <p><strong>Install Python 3.10 or higher</strong></p> </li> <li> <strong>Install PyTorch</strong> Currently, LeRobot only supports PyTorch versions below 2.8. Use the following command to install a compatible version: <div class="language-bash highlighter-rouge"> <div class="highlight"><pre class="highlight"><code>pip <span class="nb">install </span><span class="nv">torch</span><span class="o">==</span>2.7.1 <span class="nv">torchvision</span><span class="o">==</span>0.22.1 <span class="nv">torchaudio</span><span class="o">==</span>2.7.1 <span class="nt">--index-url</span> https://download.pytorch.org/whl/cu128
</code></pre></div> </div> </li> <li> <strong>Log in to WandB &amp; Hugging Face</strong> <div class="language-bash highlighter-rouge"> <div class="highlight"><pre class="highlight"><code>wandb login
</code></pre></div> </div> <p>(Tip: If your school email can be verified, you can use WandB for free ‚Äî even after graduation.)</p> <div class="language-bash highlighter-rouge"> <div class="highlight"><pre class="highlight"><code>huggingface-cli login
</code></pre></div> </div> </li> <li> <strong>Install Additional Required Libraries</strong> <div class="language-bash highlighter-rouge"> <div class="highlight"><pre class="highlight"><code>pip <span class="nb">install </span>transformers iniconfig pytest
</code></pre></div> </div> </li> <li>Depending on your environment, you might get an error asking you to install ffmpeg. There are several ways to install it, but the following method worked most cleanly: <div class="language-bash highlighter-rouge"> <div class="highlight"><pre class="highlight"><code>conda <span class="nb">install</span> <span class="nt">-n</span> pi0 <span class="nt">-c</span> conda-forge <span class="s2">"ffmpeg&gt;=6,&lt;8"</span>
</code></pre></div> </div> <p>üëâ This installs ffmpeg (version ‚â•6 and &lt;8) into the conda environment named pi0.</p> </li> <li> <strong>Request Access to the Pretrained Model (PaliGemma)</strong> Get access here: üîó https://huggingface.co/google/paligemma-3b-pt-224</li> </ul> <h2 id="2-pi0-finetuning">2. Pi0 finetuning</h2> <p>When you install LeRobot, it automatically links the command lerobot-train to train.py. However, you can also run it directly like this. Since the command is quite long, it‚Äôs convenient to save it as a train.sh file and run it using:</p> <div class="language-bash highlighter-rouge"><div class="highlight"><pre class="highlight"><code>sh train.sh
</code></pre></div></div> <ul> <li>Example training command: <div class="language-bash highlighter-rouge"> <div class="highlight"><pre class="highlight"><code><span class="nv">CUDA_VISIBLE_DEVICES</span><span class="o">=</span>3 python src/lerobot/scripts/train.py <span class="se">\</span>
<span class="nt">--policy</span>.path<span class="o">=</span>lerobot/pi0 <span class="se">\</span>
<span class="nt">--dataset</span>.repo_id<span class="o">={</span>HF_USER<span class="o">}</span>/<span class="o">{</span>data_name<span class="o">}</span> <span class="se">\</span>
<span class="nt">--output_dir</span><span class="o">=</span>outputs/train/<span class="o">{</span>project_name<span class="o">}</span> <span class="se">\</span>
<span class="nt">--job_name</span><span class="o">=</span>pi0_so101_finetune <span class="se">\</span>
<span class="nt">--policy</span>.device<span class="o">=</span>cuda <span class="se">\</span>
<span class="nt">--policy</span>.repo_id<span class="o">=</span>None <span class="se">\</span>
<span class="nt">--task</span><span class="o">=</span><span class="s2">"move doll into a cup"</span> <span class="se">\</span>
<span class="nt">--wandb</span>.enable<span class="o">=</span><span class="nb">true</span> <span class="se">\</span>
<span class="nt">--wandb</span>.project<span class="o">=</span><span class="s2">"{project_name}"</span>
</code></pre></div> </div> </li> <li> <p>Parameter explanations: policy.path ‚Äì If you‚Äôre using pretrained model weights, specify the Hugging Face repository containing those weights.<br> policy.repo_id ‚Äì If you want to automatically upload your trained model to Hugging Face during training, specify your own repository here.<br> task ‚Äì I didn‚Äôt realize at first, but this is where you input the text prompt that serves as a language command for the model.<br> wandb.enable ‚Äì Set this to true to visualize your training logs as graphs on the WandB dashboard.<br></p> </li> <li> <p>config setting: num_episode: 50 <br> batch_size: 8 <br> save_steps: 5000 / 10000 <br> ‚Äúfreeze_vision_encoder‚Äù: true, <br> ‚Äútrain_expert_only‚Äù: <strong>false</strong>, <br> ‚Äútrain_state_proj‚Äù: true</p> </li> <li>Modifying Training Configuration: In src/lerobot/configs/train.py, you can adjust parameters such as:<br> num_workers, batch_size, steps, eval_freq, log_freq, and save_freq.<br> In src/lerobot/policies/pi0/configuration_pi0.py, you can modify additional options such as train_expert_only and related settings.</li> </ul> <h2 id="3-uploading-a-trained-model-to-hugging-face-specific-checkpoint">3. Uploading a Trained Model to Hugging Face (Specific Checkpoint)</h2> <p>To upload a specific checkpoint to Hugging Face, use the following command:</p> <div class="language-bash highlighter-rouge"><div class="highlight"><pre class="highlight"><code>huggingface-cli upload <span class="o">{</span>HF_USER<span class="o">}</span>/<span class="o">{</span>project_name<span class="o">}</span> outputs/train/<span class="o">{</span>project_name<span class="o">}</span>/checkpoints/<span class="o">{</span>checkpoint_step<span class="o">}</span>/pretrained_model
</code></pre></div></div> <p>There is no need to manually create the repository in advance ‚Äî it will be created automatically as a public repository during upload.</p> <h2 id="4-inference">4. Inference</h2> <div class="language-bash highlighter-rouge"><div class="highlight"><pre class="highlight"><code>lerobot-record  <span class="se">\</span>
<span class="nt">--robot</span>.type<span class="o">=</span>so100_follower <span class="se">\</span>
<span class="nt">--robot</span>.port<span class="o">=</span>/dev/ttyACM1 <span class="se">\</span>
<span class="nt">--robot</span>.cameras<span class="o">=</span><span class="s2">"{ up: {type: opencv, index_or_path: /dev/video10, width: 640, height: 480, fps: 30}, side: {type: intelrealsense, serial_number_or_name: 233522074606, width: 640, height: 480, fps: 30}}"</span> <span class="se">\</span>
<span class="nt">--robot</span>.id<span class="o">=</span>my_awesome_follower_arm <span class="se">\</span>
<span class="nt">--display_data</span><span class="o">=</span><span class="nb">false</span> <span class="se">\</span>
<span class="nt">--dataset</span>.repo_id<span class="o">=</span><span class="k">${</span><span class="nv">HF_USER</span><span class="k">}</span>/eval_so100 <span class="se">\</span>
<span class="nt">--dataset</span>.single_task<span class="o">=</span><span class="s2">"Put lego brick into the transparent box"</span> <span class="se">\</span>
<span class="c"># &lt;- Teleop optional if you want to teleoperate in between episodes \</span>
<span class="c"># -teleop.type=so100_leader \</span>
<span class="c"># -teleop.port=/dev/ttyACM0 \</span>
<span class="c"># -teleop.id=my_awesome_leader_arm \</span>
- <span class="nt">-policy</span>.path<span class="o">=</span><span class="k">${</span><span class="nv">HF_USER</span><span class="k">}</span>/my_policy
</code></pre></div></div> <h2 id="some-comments">Some comments</h2> <p>Unlike ACT or Diffusion Policy, which are trained from scratch, I fine-tuned Pi0 and ran inference with it. Even though the training data were collected only in bright indoor environments with the lights on, the robot still managed to perform tasks pretty accurately even in darker settings.</p> <p>From what I‚Äôve seen in GitHub issues and tutorials, Pi0 tends to work best when it‚Äôs heavily overfitted to a small number of tasks ‚Äî kind of the opposite of what you‚Äôd expect from a general foundation model. It seems that even large-scale robot foundation models struggle with the huge diversity in robot hardware, task types, and data collection environments.</p> <p>I‚Äôm really curious to see how GROOT handles this.</p> <p><br></p> <hr> <p>Feel free to reach out if you run into any problems or have suggestions for improving this setup!</p> </div> </article> <br> <hr> <br> <ul class="list-disc pl-8"></ul> <h2 class="text-3xl font-semibold mb-4 mt-12">Enjoy Reading This Article?</h2> <p class="mb-2">Here are some more articles you might like to read next:</p> <li class="my-2"> <a class="text-pink-700 underline font-semibold hover:text-pink-800" href="/blog/2025/Reflections-FAU/">Reflections on My Early Weeks as a Visiting Researcher at FAU</a> </li> </div> </div> <footer class="fixed-bottom" role="contentinfo"> <div class="container mt-0"> ¬© Copyright 2025 Geonhui Jo. </div> </footer> <script src="https://cdn.jsdelivr.net/npm/jquery@3.6.0/dist/jquery.min.js" integrity="sha256-/xUj+3OJU5yExlq6GSYGSHk7tPXikynS7ogEvDej/m4=" crossorigin="anonymous"></script> <script src="/assets/js/bootstrap.bundle.min.js"></script> <script src="https://cdn.jsdelivr.net/npm/mdbootstrap@4.20.0/js/mdb.min.js" integrity="sha256-NdbiivsvWt7VYCt6hYNT3h/th9vSTL4EDWeGs5SN3DA=" crossorigin="anonymous"></script> <script defer src="https://cdn.jsdelivr.net/npm/masonry-layout@4.2.2/dist/masonry.pkgd.min.js" integrity="sha256-Nn1q/fx0H7SNLZMQ5Hw5JLaTRZp0yILA/FRexe19VdI=" crossorigin="anonymous"></script> <script defer src="https://cdn.jsdelivr.net/npm/imagesloaded@5.0.0/imagesloaded.pkgd.min.js" integrity="sha256-htrLFfZJ6v5udOG+3kNLINIKh2gvoKqwEhHYfTTMICc=" crossorigin="anonymous"></script> <script defer src="/assets/js/masonry.js?a0db7e5d5c70cc3252b3138b0c91dcaf" type="text/javascript"></script> <script defer src="https://cdn.jsdelivr.net/npm/medium-zoom@1.1.0/dist/medium-zoom.min.js" integrity="sha256-ZgMyDAIYDYGxbcpJcfUnYwNevG/xi9OHKaR/8GK+jWc=" crossorigin="anonymous"></script> <script defer src="/assets/js/zoom.js?85ddb88934d28b74e78031fd54cf8308"></script> <script src="/assets/js/no_defer.js?2781658a0a2b13ed609542042a859126"></script> <script defer src="/assets/js/common.js?e0514a05c5c95ac1a93a8dfd5249b92e"></script> <script defer src="/assets/js/copy_code.js?c8a01c11a92744d44b093fc3bda915df" type="text/javascript"></script> <script defer src="/assets/js/jupyter_new_tab.js?d9f17b6adc2311cbabd747f4538bb15f"></script> <script async src="https://d1bxh8uas1mnw7.cloudfront.net/assets/embed.js"></script> <script async src="https://badge.dimensions.ai/badge.js"></script> <script defer type="text/javascript" id="MathJax-script" src="https://cdn.jsdelivr.net/npm/mathjax@3.2.2/es5/tex-mml-chtml.js" integrity="sha256-MASABpB4tYktI2Oitl4t+78w/lyA+D7b/s9GEP0JOGI=" crossorigin="anonymous"></script> <script src="/assets/js/mathjax-setup.js?a5bb4e6a542c546dd929b24b8b236dfd"></script> <script defer src="https://cdnjs.cloudflare.com/polyfill/v3/polyfill.min.js?features=es6" crossorigin="anonymous"></script> <script defer src="/assets/js/progress-bar.js?2f30e0e6801ea8f5036fa66e1ab0a71a" type="text/javascript"></script> <script src="/assets/js/vanilla-back-to-top.min.js?f40d453793ff4f64e238e420181a1d17"></script> <script>
    addBackToTop();
  </script> </body> </html>